<IfModule mod_rewrite.c>
    RewriteEngine On

    # Serve static files from the frontend build folder (React app)
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ ../frontend/build/$1 [L]

    # Route API requests to graphql.php
    RewriteCond %{REQUEST_URI} ^/graphql$
    RewriteRule ^graphql$ /graphql.php [QSA,L]

    # If no file is found, serve the React app's index.html
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ ../frontend/build/index.html [L]
</IfModule>
