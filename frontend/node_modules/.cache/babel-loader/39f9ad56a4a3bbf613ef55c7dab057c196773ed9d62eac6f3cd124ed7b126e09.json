{"ast":null,"code":"import React,{useState,useCallback,Suspense}from'react';import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import{CategoryProvider}from'./context/CategoryContext';import{CartProvider}from'./context/CartContext';import{ApolloProvider,ApolloClient,InMemoryCache}from'@apollo/client';import Header from'./Components/Header';// Use React.lazy for lazy loading components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=/*#__PURE__*/React.lazy(()=>import('./Components/ProductList'));const ProductDetails=/*#__PURE__*/React.lazy(()=>import('./Components/ProductDetails'));const CartOverlay=/*#__PURE__*/React.lazy(()=>import('./Components/CartOverlay'));// Initialize Apollo Client\nconst client=new ApolloClient({uri:'https://scandiwebtask-c44363ca7aa2.herokuapp.com/backend/graphql.php',// Replace with your GraphQL server URI\ncache:new InMemoryCache()});function App(){const[isCartOverlayOpen,setIsCartOverlayOpen]=useState(false);// Memoize functions to prevent unnecessary re-renders\nconst openCartOverlay=useCallback(()=>{setIsCartOverlayOpen(true);},[]);const closeCartOverlay=useCallback(()=>{setIsCartOverlayOpen(false);},[]);return/*#__PURE__*/_jsx(ApolloProvider,{client:client,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(CategoryProvider,{children:/*#__PURE__*/_jsx(CartProvider,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}),children:[/*#__PURE__*/_jsx(CartOverlay,{isOpen:isCartOverlayOpen,onClose:closeCartOverlay}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProductList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:id\",element:/*#__PURE__*/_jsx(ProductDetails,{openCartOverlay:openCartOverlay})})]})]})]})})})})});}export default App;","map":{"version":3,"names":["React","useState","useCallback","Suspense","BrowserRouter","Router","Route","Routes","CategoryProvider","CartProvider","ApolloProvider","ApolloClient","InMemoryCache","Header","jsx","_jsx","jsxs","_jsxs","ProductList","lazy","ProductDetails","CartOverlay","client","uri","cache","App","isCartOverlayOpen","setIsCartOverlayOpen","openCartOverlay","closeCartOverlay","children","fallback","isOpen","onClose","path","element"],"sources":["C:/xampp/htdocs/ecommerceproject/frontend/src/App.js"],"sourcesContent":["import React, { useState, useCallback, Suspense } from 'react';\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\nimport { CategoryProvider } from './context/CategoryContext';\nimport { CartProvider } from './context/CartContext';\nimport { ApolloProvider, ApolloClient, InMemoryCache } from '@apollo/client';\nimport Header from './Components/Header';\n// Use React.lazy for lazy loading components\nconst ProductList = React.lazy(() => import('./Components/ProductList'));\nconst ProductDetails = React.lazy(() => import('./Components/ProductDetails'));\nconst CartOverlay = React.lazy(() => import('./Components/CartOverlay'));\n\n// Initialize Apollo Client\nconst client = new ApolloClient({\n  uri: 'https://scandiwebtask-c44363ca7aa2.herokuapp.com/backend/graphql.php',  // Replace with your GraphQL server URI\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  const [isCartOverlayOpen, setIsCartOverlayOpen] = useState(false);\n\n  // Memoize functions to prevent unnecessary re-renders\n  const openCartOverlay = useCallback(() => {\n    setIsCartOverlayOpen(true);\n  }, []);\n\n  const closeCartOverlay = useCallback(() => {\n    setIsCartOverlayOpen(false);\n  }, []);\n\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <CategoryProvider>\n          <CartProvider>\n            <div>\n              <Header />\n              {/* Suspense to show a fallback while components load */}\n              <Suspense fallback={<div>Loading...</div>}>\n                {/* Lazy load CartOverlay */}\n                <CartOverlay isOpen={isCartOverlayOpen} onClose={closeCartOverlay} />\n                <Routes>\n                  {/* Lazy load ProductList and ProductDetails */}\n                  <Route path=\"/\" element={<ProductList />} />\n                  <Route\n                    path=\"/product/:id\"\n                    element={\n                      <ProductDetails openCartOverlay={openCartOverlay} />\n                    }\n                  />\n                </Routes>\n              </Suspense>\n            </div>\n          </CartProvider>\n        </CategoryProvider>\n      </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,WAAW,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,KAAK,CAAEC,MAAM,KAAQ,kBAAkB,CACzE,OAASC,gBAAgB,KAAQ,2BAA2B,CAC5D,OAASC,YAAY,KAAQ,uBAAuB,CACpD,OAASC,cAAc,CAAEC,YAAY,CAAEC,aAAa,KAAQ,gBAAgB,CAC5E,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,WAAW,cAAGlB,KAAK,CAACmB,IAAI,CAAC,IAAM,MAAM,CAAC,0BAA0B,CAAC,CAAC,CACxE,KAAM,CAAAC,cAAc,cAAGpB,KAAK,CAACmB,IAAI,CAAC,IAAM,MAAM,CAAC,6BAA6B,CAAC,CAAC,CAC9E,KAAM,CAAAE,WAAW,cAAGrB,KAAK,CAACmB,IAAI,CAAC,IAAM,MAAM,CAAC,0BAA0B,CAAC,CAAC,CAExE;AACA,KAAM,CAAAG,MAAM,CAAG,GAAI,CAAAX,YAAY,CAAC,CAC9BY,GAAG,CAAE,sEAAsE,CAAG;AAC9EC,KAAK,CAAE,GAAI,CAAAZ,aAAa,CAAC,CAC3B,CAAC,CAAC,CAEF,QAAS,CAAAa,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG1B,QAAQ,CAAC,KAAK,CAAC,CAEjE;AACA,KAAM,CAAA2B,eAAe,CAAG1B,WAAW,CAAC,IAAM,CACxCyB,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,gBAAgB,CAAG3B,WAAW,CAAC,IAAM,CACzCyB,oBAAoB,CAAC,KAAK,CAAC,CAC7B,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEZ,IAAA,CAACL,cAAc,EAACY,MAAM,CAAEA,MAAO,CAAAQ,QAAA,cAC7Bf,IAAA,CAACV,MAAM,EAAAyB,QAAA,cACLf,IAAA,CAACP,gBAAgB,EAAAsB,QAAA,cACff,IAAA,CAACN,YAAY,EAAAqB,QAAA,cACXb,KAAA,QAAAa,QAAA,eACEf,IAAA,CAACF,MAAM,GAAE,CAAC,cAEVI,KAAA,CAACd,QAAQ,EAAC4B,QAAQ,cAAEhB,IAAA,QAAAe,QAAA,CAAK,YAAU,CAAK,CAAE,CAAAA,QAAA,eAExCf,IAAA,CAACM,WAAW,EAACW,MAAM,CAAEN,iBAAkB,CAACO,OAAO,CAAEJ,gBAAiB,CAAE,CAAC,cACrEZ,KAAA,CAACV,MAAM,EAAAuB,QAAA,eAELf,IAAA,CAACT,KAAK,EAAC4B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEpB,IAAA,CAACG,WAAW,GAAE,CAAE,CAAE,CAAC,cAC5CH,IAAA,CAACT,KAAK,EACJ4B,IAAI,CAAC,cAAc,CACnBC,OAAO,cACLpB,IAAA,CAACK,cAAc,EAACQ,eAAe,CAAEA,eAAgB,CAAE,CACpD,CACF,CAAC,EACI,CAAC,EACD,CAAC,EACR,CAAC,CACM,CAAC,CACC,CAAC,CACb,CAAC,CACK,CAAC,CAErB,CAEA,cAAe,CAAAH,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}