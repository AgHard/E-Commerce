{"ast":null,"code":"import React,{useState,useEffect}from'react';import{request,gql}from'graphql-request';import{useParams,useNavigate}from'react-router-dom';import{useCategory}from'../context/CategoryContext';import'./ProductDetails.css';import{useCart}from'../context/CartContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductDetails=_ref=>{var _product$attributes,_product$attributes2,_product$attributes3,_product$attributes4,_product$attributes5,_product$attributes6;let{openCartOverlay}=_ref;const{id}=useParams();const[product,setProduct]=useState(null);const[mainImage,setMainImage]=useState(null);const[selectedCapacity,setSelectedCapacity]=useState(null);const[selectedUSBPorts,setSelectedUSBPorts]=useState(null);const[selectedTouchID,setSelectedTouchID]=useState(null);const[selectedSize,setSelectedSize]=useState(null);const[selectedColor,setSelectedColor]=useState(null);const[currentImageIndex,setCurrentImageIndex]=useState(0);const{activeCategory,setActiveCategory}=useCategory();// Get activeCategory and setActiveCategory\nconst navigate=useNavigate();const{addToCart}=useCart();useEffect(()=>{const fetchProductDetails=async()=>{const endpoint='https://scandiwebtask-c44363ca7aa2.herokuapp.com/graphql.php';const query=gql`\n        query($id: String!) {\n          products(id: $id) {\n            id\n            name\n            description\n            inStock\n            galleries {\n              imageUrl\n            }\n            prices {\n              amount\n              currencyLabel\n              currencySymbol\n            }\n            attributes {\n              name\n              type\n              items {\n                id\n                display_value\n                value\n              }\n            }\n          }\n        }\n      `;try{const data=await request(endpoint,query,{id});const productData=data.products.find(product=>product.id===id);if(productData){var _productData$gallerie;setProduct(productData);setMainImage(productData===null||productData===void 0?void 0:(_productData$gallerie=productData.galleries[0])===null||_productData$gallerie===void 0?void 0:_productData$gallerie.imageUrl);}else{console.error('Product not found');}}catch(error){console.error('Error fetching product details:',error);}};fetchProductDetails();},[id]);const handleAddToCart=()=>{const productToAdd={id:product.id,name:product.name,price:product.prices[0].amount,currencySymbol:product.prices[0].currencySymbol,selectedSize,selectedColor,selectedCapacity,selectedUSBPorts,selectedTouchID,imageUrl:product.galleries[0].imageUrl,// Fetch available attributes dynamically\navailableSizes:product.attributes.filter(attr=>attr.name==='Size').flatMap(attr=>attr.items.map(item=>item.value)),availableColors:product.attributes.filter(attr=>attr.name==='Color').flatMap(attr=>attr.items.map(item=>item.value)),availableCapacities:product.attributes.filter(attr=>attr.name==='Capacity').flatMap(attr=>attr.items.map(item=>item.display_value)),availableUSBPorts:product.attributes.filter(attr=>attr.name==='With USB 3 ports').flatMap(attr=>attr.items.map(item=>item.display_value)),availableTouchIDOptions:product.attributes.filter(attr=>attr.name==='Touch ID in keyboard').flatMap(attr=>attr.items.map(item=>item.display_value))};addToCart(productToAdd);openCartOverlay();};const handleCapacitySelect=capacity=>{setSelectedCapacity(capacity);};const handleUSBPortsSelect=usbPorts=>{setSelectedUSBPorts(usbPorts);};const handleTouchIDSelect=touchID=>{setSelectedTouchID(touchID);};const handleSizeSelect=size=>{setSelectedSize(size);};const handleColorSelect=color=>{setSelectedColor(color);};const handleImageSelect=(imageUrl,index)=>{setMainImage(imageUrl);setCurrentImageIndex(index);// Keep index in sync for arrows\n};// Handle next image with arrow\nconst handleNextImage=()=>{const newIndex=(currentImageIndex+1)%product.galleries.length;setCurrentImageIndex(newIndex);setMainImage(product.galleries[newIndex].imageUrl);// Update mainImage when arrow is clicked\n};// Handle previous image with arrow\nconst handlePrevImage=()=>{const newIndex=(currentImageIndex-1+product.galleries.length)%product.galleries.length;setCurrentImageIndex(newIndex);setMainImage(product.galleries[newIndex].imageUrl);// Update mainImage when arrow is clicked\n};if(!product)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Dynamically determine if Add to Cart button should be disabled\nconst isAddToCartDisabled=!product.inStock||!selectedCapacity&&product.attributes.some(attr=>attr.name==='Capacity')||!selectedUSBPorts&&product.attributes.some(attr=>attr.name==='With USB 3 ports')||!selectedTouchID&&product.attributes.some(attr=>attr.name==='Touch ID in keyboard')||!selectedSize&&product.attributes.some(attr=>attr.name==='Size')||!selectedColor&&product.attributes.some(attr=>attr.name==='Color');return/*#__PURE__*/_jsxs(\"div\",{className:\"product-details-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-gallery-section\",\"data-testid\":\"product-gallery\",children:/*#__PURE__*/_jsx(\"div\",{className:\"image-thumbnails\",children:product.galleries.map((gallery,index)=>/*#__PURE__*/_jsx(\"img\",{src:gallery.imageUrl,alt:`Thumbnail ${index}`,onClick:()=>handleImageSelect(gallery.imageUrl,index),className:`thumbnail ${mainImage===gallery.imageUrl?'selected':''}`},index))})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-slider-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-image-box\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"prev-button\",onClick:handlePrevImage,children:\"\\u2039\"}),/*#__PURE__*/_jsx(\"img\",{src:mainImage,alt:\"Main Product\"}),/*#__PURE__*/_jsx(\"button\",{className:\"next-button\",onClick:handleNextImage,children:\"\\u203A\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:product.name}),/*#__PURE__*/_jsx(\"p\",{children:`${product.prices[0].currencySymbol}${product.prices[0].amount.toFixed(2)}`}),((_product$attributes=product.attributes)===null||_product$attributes===void 0?void 0:_product$attributes.length)>0?/*#__PURE__*/_jsxs(_Fragment,{children:[product.attributes.some(attr=>attr.name==='Capacity')&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-attribute\",\"data-testid\":\"product-attribute-capacity\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Capacity:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"capacity-options\",children:(_product$attributes2=product.attributes)===null||_product$attributes2===void 0?void 0:_product$attributes2.filter(attr=>attr.name==='Capacity').flatMap(attr=>attr.items).map(item=>/*#__PURE__*/_jsx(\"button\",{className:selectedCapacity===item.value?'selected':'',onClick:()=>handleCapacitySelect(item.value),children:item.display_value},item.id))})]}),product.attributes.some(attr=>attr.name==='With USB 3 ports')&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-attribute\",\"data-testid\":\"product-attribute-with-usb-3-ports\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"With USB 3 Ports:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"usb-ports-options\",children:(_product$attributes3=product.attributes)===null||_product$attributes3===void 0?void 0:_product$attributes3.filter(attr=>attr.name==='With USB 3 ports').flatMap(attr=>attr.items).map(item=>/*#__PURE__*/_jsx(\"button\",{className:selectedUSBPorts===item.value?'selected':'',onClick:()=>handleUSBPortsSelect(item.value),children:item.display_value},item.id))})]}),product.attributes.some(attr=>attr.name==='Touch ID in keyboard')&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-attribute\",\"data-testid\":\"product-attribute-touch-id-in-keyboard\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Touch ID in keyboard:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"touch-id-options\",children:(_product$attributes4=product.attributes)===null||_product$attributes4===void 0?void 0:_product$attributes4.filter(attr=>attr.name==='Touch ID in keyboard').flatMap(attr=>attr.items).map(item=>/*#__PURE__*/_jsx(\"button\",{className:selectedTouchID===item.value?'selected':'',onClick:()=>handleTouchIDSelect(item.value),children:item.display_value},item.id))})]}),product.attributes.some(attr=>attr.name==='Size')&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-attribute\",\"data-testid\":\"product-attribute-size\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Size:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"size-options\",children:(_product$attributes5=product.attributes)===null||_product$attributes5===void 0?void 0:_product$attributes5.filter(attr=>attr.name==='Size').flatMap(attr=>attr.items).map(item=>/*#__PURE__*/_jsx(\"button\",{className:selectedSize===item.value?'selected':'',onClick:()=>handleSizeSelect(item.value),children:item.value},item.id))})]}),product.attributes.some(attr=>attr.name==='Color')&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-attribute\",\"data-testid\":\"product-attribute-color\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Color:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"color-option\",children:(_product$attributes6=product.attributes)===null||_product$attributes6===void 0?void 0:_product$attributes6.filter(attr=>attr.name==='Color').flatMap(attr=>attr.items).map(item=>/*#__PURE__*/_jsx(\"button\",{className:`color-switch ${selectedColor===item.value?'selected':''}`,style:{backgroundColor:item.value},onClick:()=>handleColorSelect(item.value)},item.id))})]})]}):/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"button\",{className:`add-to-cart-button ${isAddToCartDisabled?'disabled':''}`,\"data-testid\":\"add-to-cart\",disabled:isAddToCartDisabled,onClick:handleAddToCart,children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"div\",{className:\"product-description\",\"data-testid\":\"product-description\",children:product.description})]})]});};export default ProductDetails;","map":{"version":3,"names":["React","useState","useEffect","request","gql","useParams","useNavigate","useCategory","useCart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetails","_ref","_product$attributes","_product$attributes2","_product$attributes3","_product$attributes4","_product$attributes5","_product$attributes6","openCartOverlay","id","product","setProduct","mainImage","setMainImage","selectedCapacity","setSelectedCapacity","selectedUSBPorts","setSelectedUSBPorts","selectedTouchID","setSelectedTouchID","selectedSize","setSelectedSize","selectedColor","setSelectedColor","currentImageIndex","setCurrentImageIndex","activeCategory","setActiveCategory","navigate","addToCart","fetchProductDetails","endpoint","query","data","productData","products","find","_productData$gallerie","galleries","imageUrl","console","error","handleAddToCart","productToAdd","name","price","prices","amount","currencySymbol","availableSizes","attributes","filter","attr","flatMap","items","map","item","value","availableColors","availableCapacities","display_value","availableUSBPorts","availableTouchIDOptions","handleCapacitySelect","capacity","handleUSBPortsSelect","usbPorts","handleTouchIDSelect","touchID","handleSizeSelect","size","handleColorSelect","color","handleImageSelect","index","handleNextImage","newIndex","length","handlePrevImage","children","isAddToCartDisabled","inStock","some","className","gallery","src","alt","onClick","toFixed","style","backgroundColor","disabled","description"],"sources":["C:/xampp/htdocs/ecommerceproject/frontend/src/Components/ProductDetails.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { request, gql } from 'graphql-request';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useCategory } from '../context/CategoryContext';\r\nimport './ProductDetails.css';\r\nimport { useCart } from '../context/CartContext';\r\n\r\nconst ProductDetails = ({ openCartOverlay }) => {\r\n  const { id } = useParams();\r\n  const [product, setProduct] = useState(null);\r\n  const [mainImage, setMainImage] = useState(null);\r\n  const [selectedCapacity, setSelectedCapacity] = useState(null);\r\n  const [selectedUSBPorts, setSelectedUSBPorts] = useState(null);\r\n  const [selectedTouchID, setSelectedTouchID] = useState(null);\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const [selectedColor, setSelectedColor] = useState(null);\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n  const { activeCategory, setActiveCategory } = useCategory(); // Get activeCategory and setActiveCategory\r\n  const navigate = useNavigate();\r\n  const { addToCart } = useCart();\r\n\r\n  useEffect(() => {\r\n    const fetchProductDetails = async () => {\r\n      const endpoint = 'https://scandiwebtask-c44363ca7aa2.herokuapp.com/graphql.php';\r\n\r\n      const query = gql`\r\n        query($id: String!) {\r\n          products(id: $id) {\r\n            id\r\n            name\r\n            description\r\n            inStock\r\n            galleries {\r\n              imageUrl\r\n            }\r\n            prices {\r\n              amount\r\n              currencyLabel\r\n              currencySymbol\r\n            }\r\n            attributes {\r\n              name\r\n              type\r\n              items {\r\n                id\r\n                display_value\r\n                value\r\n              }\r\n            }\r\n          }\r\n        }\r\n      `;\r\n\r\n      try {\r\n        const data = await request(endpoint, query, { id });\r\n        const productData = data.products.find((product) => product.id === id);\r\n        if (productData) {\r\n          setProduct(productData);\r\n          setMainImage(productData?.galleries[0]?.imageUrl);\r\n        } else {\r\n          console.error('Product not found');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching product details:', error);\r\n      }\r\n    };\r\n\r\n    fetchProductDetails();\r\n  }, [id]);\r\n\r\n  const handleAddToCart = () => {\r\n    const productToAdd = {\r\n      id: product.id,\r\n      name: product.name,\r\n      price: product.prices[0].amount,\r\n      currencySymbol: product.prices[0].currencySymbol,\r\n      selectedSize,\r\n      selectedColor,\r\n      selectedCapacity,\r\n      selectedUSBPorts,\r\n      selectedTouchID,\r\n      imageUrl: product.galleries[0].imageUrl,\r\n  \r\n      // Fetch available attributes dynamically\r\n      availableSizes: product.attributes\r\n        .filter(attr => attr.name === 'Size')\r\n        .flatMap(attr => attr.items.map(item => item.value)),\r\n        \r\n      availableColors: product.attributes\r\n        .filter(attr => attr.name === 'Color')\r\n        .flatMap(attr => attr.items.map(item => item.value)),\r\n  \r\n      availableCapacities: product.attributes\r\n        .filter(attr => attr.name === 'Capacity')\r\n        .flatMap(attr => attr.items.map(item => item.display_value)),\r\n  \r\n      availableUSBPorts: product.attributes\r\n        .filter(attr => attr.name === 'With USB 3 ports')\r\n        .flatMap(attr => attr.items.map(item => item.display_value)),\r\n  \r\n      availableTouchIDOptions: product.attributes\r\n        .filter(attr => attr.name === 'Touch ID in keyboard')\r\n        .flatMap(attr => attr.items.map(item => item.display_value)),\r\n    };\r\n  \r\n    addToCart(productToAdd);\r\n    openCartOverlay();\r\n  };\r\n\r\n  const handleCapacitySelect = (capacity) => {\r\n    setSelectedCapacity(capacity);\r\n  };\r\n\r\n  const handleUSBPortsSelect = (usbPorts) => {\r\n    setSelectedUSBPorts(usbPorts);\r\n  };\r\n\r\n  const handleTouchIDSelect = (touchID) => {\r\n    setSelectedTouchID(touchID);\r\n  };\r\n\r\n  const handleSizeSelect = (size) => {\r\n    setSelectedSize(size);\r\n  };\r\n\r\n  const handleColorSelect = (color) => {\r\n    setSelectedColor(color);\r\n  };\r\n\r\n  const handleImageSelect = (imageUrl, index) => {\r\n    setMainImage(imageUrl);\r\n    setCurrentImageIndex(index);  // Keep index in sync for arrows\r\n  };\r\n\r\n  // Handle next image with arrow\r\n  const handleNextImage = () => {\r\n    const newIndex = (currentImageIndex + 1) % product.galleries.length;\r\n    setCurrentImageIndex(newIndex);\r\n    setMainImage(product.galleries[newIndex].imageUrl);  // Update mainImage when arrow is clicked\r\n  };\r\n\r\n  // Handle previous image with arrow\r\n  const handlePrevImage = () => {\r\n    const newIndex = (currentImageIndex - 1 + product.galleries.length) % product.galleries.length;\r\n    setCurrentImageIndex(newIndex);\r\n    setMainImage(product.galleries[newIndex].imageUrl);  // Update mainImage when arrow is clicked\r\n  };\r\n\r\n  if (!product) return <div>Loading...</div>;\r\n\r\n  // Dynamically determine if Add to Cart button should be disabled\r\n  const isAddToCartDisabled = !product.inStock || \r\n                              (!selectedCapacity && product.attributes.some(attr => attr.name === 'Capacity')) ||\r\n                              (!selectedUSBPorts && product.attributes.some(attr => attr.name === 'With USB 3 ports')) ||\r\n                              (!selectedTouchID && product.attributes.some(attr => attr.name === 'Touch ID in keyboard')) ||\r\n                              (!selectedSize && product.attributes.some(attr => attr.name === 'Size')) ||\r\n                              (!selectedColor && product.attributes.some(attr => attr.name === 'Color'));\r\n\r\n  return (\r\n    <div className=\"product-details-container\">\r\n      <div className=\"product-gallery-section\" data-testid=\"product-gallery\">\r\n        <div className=\"image-thumbnails\">\r\n          {product.galleries.map((gallery, index) => (\r\n            <img\r\n              key={index}\r\n              src={gallery.imageUrl}\r\n              alt={`Thumbnail ${index}`}\r\n              onClick={() => handleImageSelect(gallery.imageUrl, index)}\r\n              className={`thumbnail ${mainImage === gallery.imageUrl ? 'selected' : ''}`}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"product-slider-section\">\r\n        <div className=\"main-image-box\">\r\n          <button className=\"prev-button\" onClick={handlePrevImage}>\r\n            &#8249;\r\n          </button>\r\n          <img src={mainImage} alt=\"Main Product\" />\r\n          <button className=\"next-button\" onClick={handleNextImage}>\r\n            &#8250;\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"product-info\">\r\n        <h2>{product.name}</h2>\r\n        <p>{`${product.prices[0].currencySymbol}${product.prices[0].amount.toFixed(2)}`}</p>\r\n\r\n        {/* Render only the available attributes */}\r\n        {product.attributes?.length > 0 ? (\r\n          <>\r\n            {/* Capacity Options */}\r\n            {product.attributes.some(attr => attr.name === 'Capacity') && (\r\n              <div className=\"product-attribute\" data-testid=\"product-attribute-capacity\">\r\n                <label>Capacity:</label>\r\n                <div className=\"capacity-options\">\r\n                  {product.attributes\r\n                    ?.filter(attr => attr.name === 'Capacity')\r\n                    .flatMap(attr => attr.items)\r\n                    .map((item) => (\r\n                      <button\r\n                        key={item.id}\r\n                        className={selectedCapacity === item.value ? 'selected' : ''}\r\n                        onClick={() => handleCapacitySelect(item.value)}\r\n                      >\r\n                        {item.display_value}\r\n                      </button>\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* USB 3 Ports Options */}\r\n            {product.attributes.some(attr => attr.name === 'With USB 3 ports') && (\r\n              <div className=\"product-attribute\" data-testid=\"product-attribute-with-usb-3-ports\">\r\n                <label>With USB 3 Ports:</label>\r\n                <div className=\"usb-ports-options\">\r\n                  {product.attributes\r\n                    ?.filter(attr => attr.name === 'With USB 3 ports')\r\n                    .flatMap(attr => attr.items)\r\n                    .map((item) => (\r\n                      <button\r\n                        key={item.id}\r\n                        className={selectedUSBPorts === item.value ? 'selected' : ''}\r\n                        onClick={() => handleUSBPortsSelect(item.value)}\r\n                      >\r\n                        {item.display_value}\r\n                      </button>\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Touch ID Options */}\r\n            {product.attributes.some(attr => attr.name === 'Touch ID in keyboard') && (\r\n              <div className=\"product-attribute\" data-testid=\"product-attribute-touch-id-in-keyboard\">\r\n                <label>Touch ID in keyboard:</label>\r\n                <div className=\"touch-id-options\">\r\n                  {product.attributes\r\n                    ?.filter(attr => attr.name === 'Touch ID in keyboard')\r\n                    .flatMap(attr => attr.items)\r\n                    .map((item) => (\r\n                      <button\r\n                        key={item.id}\r\n                        className={selectedTouchID === item.value ? 'selected' : ''}\r\n                        onClick={() => handleTouchIDSelect(item.value)}\r\n                      >\r\n                        {item.display_value}\r\n                      </button>\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Size Options */}\r\n            {product.attributes.some(attr => attr.name === 'Size') && (\r\n              <div className=\"product-attribute\" data-testid=\"product-attribute-size\">\r\n                <label>Size:</label>\r\n                <div className=\"size-options\">\r\n                  {product.attributes\r\n                    ?.filter(attr => attr.name === 'Size')\r\n                    .flatMap(attr => attr.items)\r\n                    .map((item) => (\r\n                      <button\r\n                        key={item.id}\r\n                        className={selectedSize === item.value ? 'selected' : ''}\r\n                        onClick={() => handleSizeSelect(item.value)}\r\n                      >\r\n                        {item.value}\r\n                      </button>\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Color Options */}\r\n            {product.attributes.some(attr => attr.name === 'Color') && (\r\n              <div className=\"product-attribute\" data-testid=\"product-attribute-color\">\r\n                <label>Color:</label>\r\n                <div className=\"color-option\">\r\n                  {product.attributes\r\n                    ?.filter(attr => attr.name === 'Color')\r\n                    .flatMap(attr => attr.items)\r\n                    .map((item) => (\r\n                      <button\r\n                        key={item.id}\r\n                        className={`color-switch ${selectedColor === item.value ? 'selected' : ''}`}\r\n                        style={{ backgroundColor: item.value }}\r\n                        onClick={() => handleColorSelect(item.value)}\r\n                      />\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <p></p>\r\n        )}\r\n\r\n        <button\r\n          className={`add-to-cart-button ${isAddToCartDisabled ? 'disabled' : ''}`}\r\n          data-testid=\"add-to-cart\"\r\n          disabled={isAddToCartDisabled}\r\n          onClick={handleAddToCart}\r\n        >\r\n          Add to Cart\r\n        </button>\r\n\r\n        <div className=\"product-description\" data-testid=\"product-description\">\r\n          {product.description}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}